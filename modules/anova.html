<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://webr.r-wasm.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://webr.r-wasm.org https://repo.r-wasm.org; worker-src 'self' blob: https://webr.r-wasm.org; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
    <title>Module 6: Friday Night Dinner</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="modulepreload" href="https://webr.r-wasm.org/v0.5.8/webr.mjs">
    <script type="module" src="../js/script.js"></script>
</head>
<body>
<nav><a href="../index.html">&larr; Back to Town</a></nav>
<header>
    <h1>Module 6: Friday Night Dinner (ANOVA)</h1>
    <p>"I have the floor! We have three courses, and I need to know if the difference in quality is significant." ‚Äî Emily Gilmore</p>
</header>

<div class="concept-card">
    <h2>1. The Problem: Too Many Groups</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> The T-Test is great for <strong>2 groups</strong> (Soup vs Salad). But what if you want to compare <strong>3+ groups</strong>?</p>
        <p><strong>Scenario:</strong> Comparing ratings for <strong>Soup</strong>, <strong>Salad</strong>, and <strong>Main</strong>.</p>
        <div class="lesson-box">
            <strong>Why not 3 T-Tests?</strong><br>
            Because every test has a 5% error rate. If you run 3 tests, your risk of a False Positive jumps to ~15%.
        </div>
        <p><strong>Good Idea:</strong> Run <strong>One-Way ANOVA</strong> (Analysis of Variance). It tests everyone at once.</p>
    </div>
</div>

<div class="concept-card">
    <h2>2. Running the ANOVA (`aov`)</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> We check if the variance <em>between</em> groups is larger than the variance <em>within</em> groups.</p>
        <div class="lesson-box">
            <strong>Syntax:</strong><br>
            1. <code>model <- aov(Numeric ~ Group, data = df)</code><br>
            2. <code>summary(model)</code>
        </div>
        <p>You MUST save it as a model object first!</p>
    </div>

    <div class="instruction-box">
        <h3>üçΩÔ∏è Mission: The Course Rating</h3>
        <ul class="instruction-list">
            <li>Run an ANOVA on <code>rating</code> by <code>course</code> using the <code>dinner_ratings</code> data.</li>
            <li>Save it as <code>my_model</code>.</li>
            <li>Run <code>summary(my_model)</code> to see the P-value.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer='my_model <- aov(rating ~ course, data = dinner_ratings); summary(my_model)'
                        data-output="            Df Sum Sq Mean Sq F value   Pr(>F)    <br>course       2  150.2   75.10   12.45 0.00012 ***<br>Residuals   27  162.8    6.03                     ">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>3. The Post-Hoc Test (Tukey's HSD)</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> The ANOVA result was significant (P < 0.05). Hooray! But wait...</p>
        <p>ANOVA only tells you <strong>"At least one group is different."</strong> It doesn't tell you <em>which</em> one. Is Soup better than Salad? Or is Main better than Soup?</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>TukeyHSD(model)</code>
        </div>
        <p>This runs every possible pairwise comparison safely.</p>
    </div>

    <div class="instruction-box">
        <h3>üçΩÔ∏è Mission: Which Course Was Best?</h3>
        <ul class="instruction-list">
            <li>Run <code>TukeyHSD()</code> on your saved <code>my_model</code>.</li>
            <li>Look for P-values (p adj) less than 0.05.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer="TukeyHSD(my_model)"
                        data-output="  diff    lwr    upr    p adj<br>Soup-Main    -2.2   -3.1   -1.3   0.002<br>Salad-Main   -3.4   -4.5   -2.2   0.001<br>Salad-Soup   -1.2   -2.0    0.1   0.091">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>4. Visualizing ANOVA</h2>
    <div class="lesson-text">
        <p>The best way to show ANOVA results is with a <strong>Boxplot</strong>.</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>ggplot(df, aes(x=Group, y=Num, fill=Group)) + geom_boxplot()</code>
        </div>
        <p>If the "boxes" don't overlap much, the groups are likely different.</p>
    </div>

    <div class="instruction-box">
        <h3>üçΩÔ∏è Mission: Plot the Evidence</h3>
        <ul class="instruction-list">
            <li>Plot <code>dinner_ratings</code> with x=<code>course</code>, y=<code>rating</code>, fill=<code>course</code>.</li>
            <li>Add <code>geom_boxplot()</code>.</li>
            <li>Add <code>theme_classic()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer="ggplot(dinner_ratings, aes(x = course, y = rating, fill = course)) + geom_boxplot() + theme_classic()"
                        data-output="[Plot Created: Three colorful boxplots showing Main Course rated highest]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>5. How to Report It</h2>
    <div class="lesson-text">
        <p>For your BILD 5 lab report, you need to write a sentence like this:</p>
        <blockquote class="blockquote-box">
            "There was a significant effect of Course on Rating (One-way ANOVA, F(2, 27) = 12.45, p < 0.001). Post-hoc Tukey tests revealed that the Main Course was rated significantly higher than the Soup (p = 0.002) and Salad (p = 0.001)."
        </blockquote>
    </div>
</div>

<footer class="footer-text">
    <p>Meeting Adjourned. ‚Ä¢ Created for BILD 5</p>
</footer>

</body>
</html>