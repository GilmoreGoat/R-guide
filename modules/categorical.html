<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://webr.r-wasm.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://webr.r-wasm.org https://repo.r-wasm.org; worker-src 'self' blob: https://webr.r-wasm.org; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
  <title>Module 8: Miss Patty's Studio</title>
  <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
  <link rel="modulepreload" href="https://webr.r-wasm.org/v0.5.8/webr.mjs">
  <script type="module" src="../js/script.js"></script>
</head>
<body>
<nav><a href="../index.html">&larr; Back to Town</a></nav>
<header>
  <h1>Module 8: Miss Patty's Studio</h1>
  <p>"We are not casting, Rory. We are analyzing vital performance demographics."</p>
</header>

<div class="concept-card">
  <h2>1. The Contingency Table</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> When you have two Categorical variables (categories, not numbers), you can't calculate a Mean. You calculate <strong>Counts</strong>.</p>
    <p>We use a <strong>Contingency Table</strong> to cross-reference them.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>table(df$col1, df$col2)</code>
    </div>
  </div>

  <div class="instruction-box">
    <h3>ðŸ’ƒ Mission: Count the Dancers</h3>
    <ul class="instruction-list">
      <li>We have a dataset <code>dancers</code>.</li>
      <li>Create a table comparing <code>style</code> and <code>age_group</code>.</li>
      <li>Save it as <code>my_table</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="my_table <- table(dancers$style, dancers$age_group); my_table"
                data-output="          Kid   Teen<br>Ballet     1      0<br>Tap        0      1">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>2. The Chi-Squared Test</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> We need to know if the relationship is significant. We use the <strong>Chi-Squared Test of Independence</strong> ($\chi^2$).</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>chisq.test(my_table)</code>
    </div>
    <ul>
      <li><strong>Null ($H_0$):</strong> Variables are Independent (Style does NOT affect Age).</li>
      <li><strong>Alternative ($H_1$):</strong> Variables are Related.</li>
    </ul>
  </div>

  <div class="instruction-box">
    <h3>ðŸ’ƒ Mission: Run the Test</h3>
    <ul class="instruction-list">
      <li>Run <code>chisq.test()</code> on <code>my_table</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="chisq.test(my_table)"
                data-output="Pearson's Chi-squared test<br>X-squared = 4.0, df = 3, p-value = 0.2<br>(Warning: Approximation may be incorrect)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>3. Visualizing Proportions</h2>
  <div class="lesson-text">
    <p>To show categorical data, we use a Bar Plot. To compare proportions, we want a <strong>100% Stacked Bar Chart</strong>.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>+ geom_bar(position = "fill")</code>
    </div>
  </div>

  <div class="instruction-box">
    <h3>ðŸ’ƒ Mission: Visualize the Cast</h3>
    <ul class="instruction-list">
      <li>Plot <code>dancers</code> with x=style, fill=age_group.</li>
      <li>Add <code>geom_bar(position = "fill")</code>.</li>
      <li>Add <code>labs(y = "Proportion")</code> to fix the label.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer='ggplot(dancers, aes(x = style, fill = age_group)) + geom_bar(position = "fill") + labs(y = "Proportion")'
                data-output="[Plot Created: Stacked bars showing Age distribution]">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>4. Reporting Results</h2>
  <div class="lesson-text">
    <p>For your BILD 5 lab report, report the $\chi^2$ value, degrees of freedom (df), and P-value.</p>
    <blockquote class="blockquote-box">
      "There was a significant association between dance style and age group ($\chi^2(3, N=4) = 4.0, p > 0.05). Miss Patty needs more students."
    </blockquote>
  </div>
</div>

<footer class="footer-text">
  <p>5, 6, 7, 8! â€¢ Created for BILD 5</p>
</footer>

</body>
</html>