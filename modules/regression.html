<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://webr.r-wasm.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://webr.r-wasm.org https://repo.r-wasm.org; worker-src 'self' blob: https://webr.r-wasm.org; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
    <title>Module 7: Richard's Investments</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="modulepreload" href="https://webr.r-wasm.org/v0.5.8/webr.mjs">
    <script type="module" src="../js/script.js"></script>
</head>
<body>
<nav><a href="../index.html">&larr; Back to Town</a></nav>
<header>
    <h1>Module 7: Richard's Investments</h1>
    <p>"I've been analyzing the markets for 23 hours. I need to know if the risk is worth it."</p>
</header>

<div class="concept-card">
    <h2>1. Correlation (The Relationship)</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> Correlation measures the strength of the relationship between two numeric variables.</p>
        <ul>
            <li><strong>r = 1:</strong> Perfect positive match (More Risk = More Reward).</li>
            <li><strong>r = -1:</strong> Perfect negative match (More Risk = Less Reward).</li>
            <li><strong>r = 0:</strong> No relationship (Market Volatility = Random chaos).</li>
        </ul>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>cor.test(df$col1, df$col2)</code>
        </div>
    </div>

    <div class="instruction-box">
        <h3>ðŸ“ˆ Mission: Risk Analysis</h3>
        <ul class="instruction-list">
            <li>We have a dataset <code>investments</code>.</li>
            <li>Test if <code>risk</code> correlates with <code>roi</code> (Return on Investment).</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer="cor.test(investments$risk, investments$roi)"
                        data-output="Pearson's product-moment correlation<br>cor = -0.85, p-value = 0.04<br>(Strong negative relationship. Ouch.)">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>2. Linear Regression (The Prediction)</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> Correlation tells you <em>if</em> they are related. <strong>Regression</strong> gives you the math to <em>predict</em> one based on the other.</p>
        <p><strong>The Formula:</strong> $Y = mx + b$ (Slope and Intercept).</p>
        <div class="lesson-box">
            <strong>Syntax:</strong><br>
            1. <code>model <- lm(y ~ x, data = df)</code><br>
            2. <code>summary(model)</code>
        </div>
        <p><em>(Think: "Linear Model of Y by X")</em>.</p>
    </div>

    <div class="instruction-box">
        <h3>ðŸ“ˆ Mission: Predict Returns</h3>
        <ul class="instruction-list">
            <li>Create a model named <code>market_model</code>.</li>
            <li>Predict <code>roi</code> (Y) based on <code>risk</code> (X).</li>
            <li>Run <code>summary()</code> on it.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer='market_model <- lm(roi ~ risk, data = investments); summary(market_model)'
                        data-output="Coefficients:<br>(Intercept)  15.5<br>risk     -2.5<br><br>Multiple R-squared: 0.72">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>3. Visualizing the Trend</h2>
    <div class="lesson-text">
        <p>A scatterplot shows the dots. To show the Regression Model, we add a "Line of Best Fit".</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>+ geom_smooth(method = "lm")</code>
        </div>
        <p>The "lm" stands for Linear Model.</p>
    </div>

    <div class="instruction-box">
        <h3>ðŸ“ˆ Mission: Visualizing Growth</h3>
        <ul class="instruction-list">
            <li>Plot <code>investments</code> with x=risk, y=roi.</li>
            <li>Add <code>geom_point()</code>.</li>
            <li>Add <code>geom_smooth(method = "lm")</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer='ggplot(investments, aes(x = risk, y = roi)) + geom_point() + geom_smooth(method = "lm")'
                        data-output="[Plot Created: Scatterplot with a regression line]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>4. Reporting Results</h2>
    <div class="lesson-text">
        <p>For your BILD 5 lab report, report the $R^2$ (how much variation is explained) and the P-value.</p>
        <blockquote class="blockquote-box">
            "There was a significant negative relationship between risk and ROI ($R^2$ = 0.72, F(1, 48) = 120.5, p < 0.05)."
        </blockquote>
    </div>
</div>

<footer class="footer-text">
    <p>Buy low, sell high. â€¢ Created for BILD 5</p>
</footer>

</body>
</html>