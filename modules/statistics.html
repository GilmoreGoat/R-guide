<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://webr.r-wasm.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://webr.r-wasm.org https://repo.r-wasm.org; worker-src 'self' blob: https://webr.r-wasm.org; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
  <title>Module 5: Yale Statistics</title>
  <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
  <link rel="modulepreload" href="https://webr.r-wasm.org/v0.5.8/webr.mjs">
  <script type="module" src="../js/script.js"></script>
</head>
<body>
<nav><a href="../index.html">&larr; Back to Town</a></nav>
<header>
  <h1>Module 5: Yale Statistics</h1>
  <p>"Facts, Logan. Not feelings. Show me the P-value."</p>
</header>

<div class="concept-card">
  <h2>1. Data Cleaning (The Stunt Height)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Before you run any stats, check for errors. If a jump height is 150m, that is a scaffold error.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>data |> filter(column < 100)</code>
    </div>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Remove the Error</h3>
    <ul class="instruction-list">
      <li>Filter <code>stunt_heights</code> to keep height less than <code>100</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="stunt_heights |> filter(height_m < 100)"
                data-output="[Filtered: 1 row removed. Error corrected.]">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>2. Normality Check (The KS Test)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Most tests assume your data fits a <strong>Normal Distribution</strong> (Bell Curve). We use the <strong>Kolmogorov-Smirnov Test</strong> (`ks.test`).</p>
    <div class="lesson-box">
      <strong>Syntax:</strong><br>
      <code>ks.test(x, "pnorm", mean(x), sd(x))</code>
    </div>
    <p><strong>Rule:</strong> If P < 0.05, the data is NOT Normal (Weird).</p>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Run the Test</h3>
    <ul class="instruction-list">
      <li>Run <code>ks.test</code> on the <code>stunt_heights$height_m</code> vector.</li>
      <li>Use arguments: <code>y="pnorm"</code>, <code>mean=mean(...)</code>, <code>sd=sd(...)</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer='ks.test(x = stunt_heights$height_m, y = "pnorm", mean = mean(stunt_heights$height_m), sd = sd(stunt_heights$height_m))'
                data-output="One-sample Kolmogorov-Smirnov test<br>D = 0.2, p-value = 0.01<br>(Not Normal. Data is skewed.)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>3. The Makeover (Log Transform)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> If your data is skewed, fix it. A <strong>Log Transformation</strong> squashes big numbers down.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>mutate(new_col = log10(old_col))</code>
    </div>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Log It</h3>
    <ul class="instruction-list">
      <li>Create column <code>log_height</code> using <code>log10(height_m)</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="stunt_heights |> mutate(log_height = log10(height_m))"
                data-output="  height_m  log_height<br>1 10        1.0">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>4. One-Sample T-Test (The Standard)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Compare <strong>ONE group</strong> against a known number.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>t.test(vector, mu = number)</code>
    </div>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Study Hours Check</h3>
    <ul class="instruction-list">
      <li>Run a t-test on <code>yale_students$hours_studied</code>.</li>
      <li>Compare it to the expectation <code>mu = 20</code> (Yale Standard).</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="t.test(yale_students$hours_studied, mu = 20)"
                data-output="One Sample t-test<br>t = -5.5, p-value = 0.001<br>(Significant. They study way less than expected.)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>5. Paired T-Test (Before & After)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Use this when you measure the <strong>SAME person</strong> twice.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>t.test(vecA, vecB, paired = TRUE)</code>
    </div>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Midterm vs Final</h3>
    <ul class="instruction-list">
      <li>Compare <code>Cream_A</code> (Midterm) and <code>Cream_B</code> (Final).</li>
      <li>Set <code>paired = TRUE</code>.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="t.test(Cream_A, Cream_B, paired = TRUE)"
                data-output="Paired t-test<br>t = -5.1, p-value = 0.0001<br>(Significant improvement.)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>6. Unpaired T-Test (Two Groups)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Compare two <strong>independent</strong> groups.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>t.test(Numeric ~ Group, data = df)</code>
    </div>
    <p><strong>Note:</strong> You must use the Tilde <code>~</code> (read as "by").</p>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: Lizard Survival</h3>
    <ul class="instruction-list">
      <li>Compare <code>horn_length</code> by <code>survival</code> using the <code>lizards</code> data.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer="t.test(horn_length ~ survival, data = lizards)"
                data-output="Two Sample t-test<br>t = 4.2, p-value = 0.01<br>(Survivors had significantly longer horns.)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

<div class="concept-card">
  <h2>7. Power Analysis (The Prep)</h2>
  <div class="lesson-text">
    <p><strong>The Concept:</strong> Professor Fleming doesn't guess. He calculates. <strong>Power Analysis</strong> tells you how many samples you need.</p>
    <div class="lesson-box">
      <strong>Syntax:</strong> <code>power.t.test(delta=, sd=, power=, type=)</code>
    </div>
    <p><strong>Rule:</strong> Leave <code>n=NULL</code> so R solves for it.</p>
  </div>
  <div class="instruction-box">
    <h3>ðŸŽ“ Mission: How Many Lizards?</h3>
    <ul class="instruction-list">
      <li>You expect a difference of <strong>10</strong> (<code>delta=10</code>).</li>
      <li>Standard Deviation is <strong>15</strong>. Power is <strong>0.8</strong>.</li>
      <li>Calculate <code>n</code> for a <code>"two.sample"</code> test.</li>
    </ul>
  </div>
  <div class="editor-container">
    <div class="editor-header">script.R</div>
    <div class="editor-body">
      <div class="code-input-line">
        <span class="prompt">></span>
        <input type="text" class="editor-input input-code" placeholder="...">
        <button class="check-btn"
                data-answer='power.t.test(delta = 10, sd = 15, power = 0.8, type = "two.sample")'
                data-output="Two-sample t test power calculation<br>n = 36.3 (Round up to 37 lizards!)">Run</button>
      </div>
    </div>
    <div class="console-output feedback"></div>
  </div>
</div>

</body>
</html>