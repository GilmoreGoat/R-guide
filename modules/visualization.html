<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval' https://webr.r-wasm.org; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' https://webr.r-wasm.org https://repo.r-wasm.org; worker-src 'self' blob: https://webr.r-wasm.org; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
    <title>Module 4: Festival of Living Art</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="modulepreload" href="https://webr.r-wasm.org/v0.5.8/webr.mjs">
    <script type="module" src="../js/script.js"></script>
</head>
<body>
<nav><a href="../index.html">&larr; Back to Town</a></nav>
<header>
    <h1>Module 4: Festival of Living Art</h1>
    <p>Making charts pretty enough for the Festival Director.</p>
</header>

<div class="concept-card">
    <h2>1. The ggplot Recipe</h2>
    <div class="lesson-text">
        <p><strong>The Concept:</strong> Making a graph in R is like painting a masterpiece. You have to add layers one by one using the <code>+</code> sign.</p>
        <div class="lesson-box-large">
            <strong>The 3 Layers:</strong><br>
            1. <strong>Data:</strong> <code>ggplot(data)</code><br>
            2. <strong>Aesthetics (aes):</strong> <code>aes(x = col, y = col)</code><br>
            3. <strong>Geometry (geom):</strong> <code>+ geom_point()</code>
        </div>
        <p><em>Warning:</em> Do NOT use the pipe <code>|></code> here. Graphs use <code>+</code>.</p>
    </div>
</div>

<div class="concept-card">
    <h2>2. Histogram (1 Numeric Var)</h2>
    <div class="lesson-text">
        <p>Shows the distribution of a single number column (e.g., "How much paint do we have?").</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>ggplot(df, aes(x = numeric_col)) + geom_histogram()</code>
        </div>
    </div>

    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Paint Volume</h3>
        <ul class="instruction-list">
            <li>Start a plot with <code>paint_tubes</code>.</li>
            <li>Set x-axis to <code>volume</code>.</li>
            <li>Add <code>geom_histogram()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer="ggplot(paint_tubes, aes(x = volume)) + geom_histogram()"
                        data-output="[Plot created: Histogram]"
                        data-image="https://www.r-graph-gallery.com/img/graph/histogram_basic.png">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>3. Bar Plot (1 Categorical Var)</h2>
    <div class="lesson-text">
        <p>Shows counts of categories (e.g., "How many contestants in each painting?"). R counts the rows for you.</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>ggplot(df, aes(x = category_col)) + geom_bar()</code>
        </div>
    </div>
    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Contestant Counts</h3>
        <ul class="instruction-list">
            <li>Plot <code>art_entries</code> with x-axis <code>painting</code>.</li>
            <li>Add <code>geom_bar()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn" data-answer="ggplot(art_entries, aes(x = painting)) + geom_bar()" data-output="[Plot created: Bar Plot]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>4. Boxplot (Num vs Cat)</h2>
    <div class="lesson-text">
        <p>Comparing a number across different groups (e.g., "Pose Time" by "Painting").</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>ggplot(df, aes(x = category, y = number)) + geom_boxplot()</code>
        </div>
    </div>

    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Hold the Pose</h3>
        <ul class="instruction-list">
            <li>Plot <code>art_entries</code>.</li>
            <li>Set x to <code>painting</code> and y to <code>pose_time</code>.</li>
            <li>Add <code>geom_boxplot()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn" data-answer="ggplot(art_entries, aes(x = painting, y = pose_time)) + geom_boxplot()" data-output="[Plot created: Boxplot]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>5. Scatterplot (Num vs Num)</h2>
    <div class="lesson-text">
        <p>Shows the relationship between two numbers (e.g., "Paint Volume" vs "Price").</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>ggplot(df, aes(x = number1, y = number2)) + geom_point()</code>
        </div>
    </div>

    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Volume vs Price</h3>
        <ul class="instruction-list">
            <li>Plot <code>paint_tubes</code>.</li>
            <li>Set x to <code>volume</code> and y to <code>volume</code> (Just for demo).</li>
            <li>Add <code>geom_point()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn" data-answer="ggplot(paint_tubes, aes(x = volume, y = volume)) + geom_point()" data-output="[Plot created: Scatterplot]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>6. Color vs Fill</h2>
    <div class="lesson-text">
        <p>The Director is picky about colors. You need to know the difference:</p>
        <ul>
            <li><strong>color:</strong> Changes the outline (dots, lines).</li>
            <li><strong>fill:</strong> Changes the inside (bars, boxplots).</li>
        </ul>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>aes(x = type, fill = type)</code>
        </div>
    </div>
    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Colorful Brands</h3>
        <ul class="instruction-list">
            <li>Plot <code>paint_tubes</code> with x = <code>brand</code> and fill = <code>brand</code>.</li>
            <li>Add <code>geom_bar()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn" data-answer="ggplot(paint_tubes, aes(x = brand, fill = brand)) + geom_bar()" data-output="[Plot created: Colorful Bar Chart]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card">
    <h2>7. Labels & Themes</h2>
    <p>Don't turn in ugly graphs! Use <code>labs()</code> and <code>theme_classic()</code>.</p>
    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Make it Masterpiece</h3>
        <ul class="instruction-list">
            <li>Take your scatterplot and add <code>+ theme_classic()</code>.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn" data-answer="ggplot(paint_tubes, aes(x = volume, y = volume)) + geom_point() + theme_classic()" data-output="[Plot created: Pretty Scatterplot]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

<div class="concept-card border-autumn-orange">
    <h2>8. Faceting (Small Multiples)</h2>
    <div class="lesson-text">
        <p>Sometimes you have too much data for one chart. Faceting splits your chart into multiple panels.</p>
        <div class="lesson-box">
            <strong>Syntax:</strong> <code>+ facet_wrap(~ grouping_variable)</code>
        </div>
        <p><strong>Note:</strong> You MUST use the tilde <code>~</code> (read as "by").</p>
    </div>
    <div class="instruction-box">
        <h3>ðŸŽ¨ Mission: Split by Brand</h3>
        <ul class="instruction-list">
            <li>Plot <code>paint_tubes</code> with x=<code>volume</code>. Add <code>geom_histogram()</code>.</li>
            <li>Add <code>facet_wrap(~ brand)</code> to see Winsor vs. Newton.</li>
        </ul>
    </div>
    <div class="editor-container">
        <div class="editor-header">script.R</div>
        <div class="editor-body">
            <div class="code-input-line">
                <span class="prompt">></span>
                <input type="text" class="editor-input input-code" placeholder="...">
                <button class="check-btn"
                        data-answer="ggplot(paint_tubes, aes(x = volume)) + geom_histogram() + facet_wrap(~ brand)"
                        data-output="[Plot created: Two side-by-side histograms]">Run</button>
            </div>
        </div>
        <div class="console-output feedback"></div>
    </div>
</div>

</body>
</html>